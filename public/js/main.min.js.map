{"version":3,"sources":["main.js"],"names":["numberWithCommas","x","parts","toString","split","replace","join","window","jsPDF","jspdf","html2canvas","$","test","navigator","userAgent","rangeTicksArr","index","push","each","value","this","data","slider","min","step","range","handle","tooltip","ticks_snap_bounds","ticks","ticks_labels","rangeTicksArr_age","rangeTicksArr_big","getElementById","genderChart","Chart","labels","backgroundColor","borderWidth","options","plugins","legend","display","ctx_age","ageChart","ctx_gender","document","getContext","datasets","ctx_residence","residenceChart","type","ctx_marital","maritalChart","colorArray","ajax","url","dataType","success","console","genderLabels","genderValues","maxGenderName","maxGenderIndex","maxGenderVal","genderTotal","genderMaxPerc","$gender_resultTitle","ageLabels","Object","keys","gender","maxAgeName","maxAgeVal","ageValues","maxAgeIndex","reduce","update","ageMaxPerc","ageTotal","iMax","i","arr","find","$age_resultTitle","addClass","a","b","toFixed","residenceValues","maxResidenceVal","maxResidenceIndex","html","$residence_resultTitle","residenceMaxPerc","age","maxResidenceName","residenceLabels","residence","maritalLabels","marital_status","maritalValues","maxMaritalIndex","maxMaritalName","$marital_resultTitle","error","timeoutHandler","hasClass","preventDefault","clearTimeout","clearHeaderAnimation","parent","openHeaderDropdown","toggleHeaderPanel","closeHeaderDropdown","removeClass","number","values","transition","transform","maritalMaxPerc","opacity","setTimeout","concat","css","stepperStep","scrollTop","personal_data_agreed","innerHeight","openStep1","$stepBullets","stickyHeader","length","pageYOffset","on","e","closest","log","toggleClass","val","openStep3","validate","slideUp","calculate","slideToggle","location","req_url","eq","f_marital_status","f_life_insuranced","validated","f_gender","f_phone","f_residence","closePopup","fadeOut","privacy_agreed","is","isMobilePlatform","openStep2","f_name","f_age","f_children","f_dependent","f_salary","f_other_income","other_income_val","getNumber","AN_other_income","f_savings","AN_savings","savings_val","f_insurance_covers","AN_insurance_covers","f_expenses","expenses_val","f_loans","AN_loans","loans_val","f_insurance_cost","AN_insurance_cost","f_spouse_monthly_payment","spouse_monthly_payment_val","AN_spouse_monthly_payment","f_spouse_payment_years","f_spouse_yearly_payment","f_child_monthly_payment","AN_child_monthly_payment","child_monthly_payment_val","f_child_yearly_payment","AN_dependents_monthly_payment","AutoNumeric","dependents_monthly_payment_val","f_dependents_payment_years","f_dependents_yearly_payment","result","insurance_covers_val","isNaN","alert","validate1","getAutoNumericElement","$parent","attr","$input","$numberRangeWrap","$range","itemsString","$list","max","f_dependents_monthly_payment","f_child_payment_years","$numberListWrap","salary_val","$customRange","ANObj","Number","$currencyRangeWrap","$number","focus","method","requestObj","name","phone","children","dependents","salary","other_income","savings","insurance_covers","expenses","loans","insurance_cost","spouse_monthly_payment","child_monthly_payment","child_payment_years","dependents_monthly_payment","dependents_payment_years","total","get","_objectSpread","calculator_sent","theEvent","key","requestId","unique_id","clipboardData","String","regex","id","lang","allowDecimalPadding","currencySymbol","selectOnFocus","request_id","getInTouch_sent","fadeIn","target","currentTarget","icon","evt","event","getData","keyCode","which","fromCharCode","returnValue","multiple","currencySymbolPlacement","watchExternalChanges","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["// Range slider plugin - https://www.jqueryscript.net/form/Highly-Customizable-Range-Slider-Plugin-For-Bootstrap-Bootstrap-Slider.html\r\n\r\n// jsPDF Dependencies\r\nwindow.jsPDF = window.jspdf.jsPDF;\r\nwindow.html2canvas = html2canvas;\r\n\r\n(function ($) {\r\n  // Document ready\r\n  $(function () {\r\n    let isMobilePlatform = false;\r\n    if (\r\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent,\r\n      )\r\n    ) {\r\n      // true for mobile device\r\n      isMobilePlatform = true;\r\n    } else {\r\n      // false for not mobile device\r\n    }\r\n\r\n    // Init currency range slider\r\n    let rangeTicksArr = [];\r\n    for (let index = 0; index <= 100000000; ) {\r\n      rangeTicksArr.push(index);\r\n      index += 10000000;\r\n    }\r\n    $(\".custom-range-input__currency\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        // max: 1000000,\r\n        step: 50000,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 1000000,\r\n        ticks: rangeTicksArr,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"10M\",\r\n          \"20M\",\r\n          \"30M\",\r\n          \"40M\",\r\n          \"50M\",\r\n          \"60M\",\r\n          \"70M\",\r\n          \"80M\",\r\n          \"90M\",\r\n          \"100M\",\r\n        ],\r\n      });\r\n    });\r\n    // Init age range slider\r\n    let rangeTicksArr_age = [];\r\n    for (let index = 0; index <= 100; ) {\r\n      rangeTicksArr_age.push(index);\r\n      index += 10;\r\n    }\r\n    $(\".custom-range-input__age\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        step: 1,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 0,\r\n        ticks: rangeTicksArr_age,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"10\",\r\n          \"20\",\r\n          \"30\",\r\n          \"40\",\r\n          \"50\",\r\n          \"60\",\r\n          \"70\",\r\n          \"80\",\r\n          \"90\",\r\n          \"100\",\r\n        ],\r\n      });\r\n    });\r\n    // Init big currency range slider\r\n    let rangeTicksArr_big = [];\r\n    for (let index = 0; index <= 1000000000; ) {\r\n      rangeTicksArr_big.push(index);\r\n      index += 100000000;\r\n    }\r\n    $(\".custom-range-input__currency-big\").each(function () {\r\n      const min = $(this).data(\"bslider-min\");\r\n      const value = $(this).data(\"bslider-value\");\r\n\r\n      $(this).slider({\r\n        min: min || null,\r\n        // max: 1000000,\r\n        step: 50000,\r\n        value: value || 0,\r\n        handle: \"square\",\r\n        range: false,\r\n        tooltip: \"hide\",\r\n        ticks_snap_bounds: 10000000,\r\n        ticks: rangeTicksArr_big,\r\n        ticks_labels: [\r\n          \"0\",\r\n          \"100M\",\r\n          \"200M\",\r\n          \"300M\",\r\n          \"400M\",\r\n          \"500M\",\r\n          \"600M\",\r\n          \"700M\",\r\n          \"800M\",\r\n          \"900M\",\r\n          \"1B\",\r\n        ],\r\n      });\r\n    });\r\n\r\n    // Charts\r\n    var ctx_gender = document.getElementById(\"genderChart\").getContext(\"2d\");\r\n    var genderChart = new Chart(ctx_gender, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        // labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            // data: [12, 19, 3, 5, 2, 3],\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_age = document.getElementById(\"ageChart\").getContext(\"2d\");\r\n    var ageChart = new Chart(ctx_age, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_residence = document\r\n      .getElementById(\"residenceChart\")\r\n      .getContext(\"2d\");\r\n    var residenceChart = new Chart(ctx_residence, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    var ctx_marital = document.getElementById(\"maritalChart\").getContext(\"2d\");\r\n    var maritalChart = new Chart(ctx_marital, {\r\n      type: \"doughnut\",\r\n      data: {\r\n        labels: [],\r\n        datasets: [\r\n          {\r\n            data: [],\r\n            backgroundColor: colorArray,\r\n            borderWidth: 0,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        plugins: {\r\n          legend: {\r\n            display: false,\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    // Get Charts Data\r\n    $.ajax({\r\n      url: \"/api/chart.php\",\r\n      type: \"GET\",\r\n      dataType: \"json\",\r\n      success: function (data) {\r\n        if (!data.success) {\r\n          // Basic error handling\r\n          console.error(data);\r\n        }\r\n\r\n        // Gender chart\r\n        let genderLabels = Object.keys(data.gender);\r\n        genderChart.data.labels = genderLabels;\r\n        let genderValues = Object.values(data.gender);\r\n        genderChart.data.datasets[0].data = genderValues;\r\n        genderChart.update();\r\n\r\n        let maxGenderIndex = genderValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxGenderName = genderLabels[maxGenderIndex];\r\n        let maxGenderVal = genderValues[maxGenderIndex];\r\n\r\n        let genderTotal = genderValues.reduce((a, b) => a + b, 0);\r\n        let genderMaxPerc = (maxGenderVal / genderTotal) * 100;\r\n        // $(\"#genderChartPopup\")\r\n        // .find(\".overlay-cdk__content-title\")\r\n        // .html(`${genderMaxPerc.toFixed(2)}% of users are ${maxGenderName}`);\r\n\r\n        $(\"#genderChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#genderChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $gender_resultTitle = $(\"#genderChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $gender_resultTitle.addClass(\"active\");\r\n        $gender_resultTitle.find(\".percent\").html(genderMaxPerc.toFixed(2));\r\n\r\n        if (maxGenderName === \"Male\") {\r\n          $gender_resultTitle.find('.value[data-value=\"1\"]').addClass(\"active\");\r\n        } else if (maxGenderName === \"Female\") {\r\n          $gender_resultTitle.find('.value[data-value=\"2\"]').addClass(\"active\");\r\n        } else if (maxGenderName === \"Other\") {\r\n          $gender_resultTitle.find('.value[data-value=\"3\"]').addClass(\"active\");\r\n        } else {\r\n          $gender_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $gender_resultTitle.find(\".value-fallback\").html(maxGenderName);\r\n        }\r\n\r\n        // Age chart\r\n        let ageLabels = Object.keys(data.age);\r\n        ageChart.data.labels = ageLabels;\r\n        let ageValues = Object.values(data.age);\r\n        ageChart.data.datasets[0].data = ageValues;\r\n        ageChart.update();\r\n\r\n        let maxAgeIndex = ageValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxAgeName = ageLabels[maxAgeIndex];\r\n        let maxAgeVal = ageValues[maxAgeIndex];\r\n\r\n        let ageTotal = ageValues.reduce((a, b) => a + b, 0);\r\n        let ageMaxPerc = (maxAgeVal / ageTotal) * 100;\r\n        // $(\"#ageChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(`${ageMaxPerc.toFixed(2)}% of users are ${maxAgeName}`);\r\n\r\n        $(\"#ageChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#ageChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $age_resultTitle = $(\"#ageChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $age_resultTitle.addClass(\"active\");\r\n        $age_resultTitle.find(\".percent\").html(ageMaxPerc.toFixed(2));\r\n        $age_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n        $age_resultTitle.find(\".value-fallback\").html(maxAgeName);\r\n\r\n        // Residence chart\r\n        let residenceLabels = Object.keys(data.residence);\r\n        residenceChart.data.labels = residenceLabels;\r\n        let residenceValues = Object.values(data.residence);\r\n        residenceChart.data.datasets[0].data = residenceValues;\r\n        residenceChart.update();\r\n\r\n        let maxResidenceIndex = residenceValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxResidenceName = residenceLabels[maxResidenceIndex];\r\n        let maxResidenceVal = residenceValues[maxResidenceIndex];\r\n\r\n        let residenceTotal = residenceValues.reduce((a, b) => a + b, 0);\r\n        let residenceMaxPerc = (maxResidenceVal / residenceTotal) * 100;\r\n        // $(\"#residenceChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(\r\n        //     `${residenceMaxPerc.toFixed(2)}% of users are ${maxResidenceName}`,\r\n        //   );\r\n\r\n        $(\"#residenceChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#residenceChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $residence_resultTitle = $(\"#residenceChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $residence_resultTitle.addClass(\"active\");\r\n        $residence_resultTitle\r\n          .find(\".percent\")\r\n          .html(residenceMaxPerc.toFixed(2));\r\n\r\n        if (maxResidenceName === \"Vientiane Capital\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"1\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Vientiane\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"2\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Savannakhet\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"3\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Champasack\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"4\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Luangprabang\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"5\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Khammuane\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"6\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Bokeo\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"7\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Borikhamxay\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"8\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Huaphanh\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"9\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Luangnamtha\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"10\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Oudomxay\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"11\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Phongsaly\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"12\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Saravanh\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"13\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xayabury\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"14\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xaysomboon\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"15\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Xiengkhuang\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"16\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Sekong\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"17\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxResidenceName === \"Attapeu\") {\r\n          $residence_resultTitle\r\n            .find('.value[data-value=\"18\"]')\r\n            .addClass(\"active\");\r\n        } else {\r\n          $residence_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $residence_resultTitle.find(\".value-fallback\").html(maxResidenceName);\r\n        }\r\n\r\n        // Marital chart\r\n        let maritalLabels = Object.keys(data.marital_status);\r\n        maritalChart.data.labels = maritalLabels;\r\n        let maritalValues = Object.values(data.marital_status);\r\n        maritalChart.data.datasets[0].data = maritalValues;\r\n        maritalChart.update();\r\n\r\n        let maxMaritalIndex = maritalValues.reduce(\r\n          (iMax, x, i, arr) => (x > arr[iMax] ? i : iMax),\r\n          0,\r\n        );\r\n        let maxMaritalName = maritalLabels[maxMaritalIndex];\r\n        let maxMaritalVal = maritalValues[maxMaritalIndex];\r\n\r\n        let maritalTotal = maritalValues.reduce((a, b) => a + b, 0);\r\n        let maritalMaxPerc = (maxMaritalVal / maritalTotal) * 100;\r\n        // $(\"#maritalChartPopup\")\r\n        //   .find(\".overlay-cdk__content-title\")\r\n        //   .html(`${maritalMaxPerc.toFixed(2)}% of users are ${maxMaritalName}`);\r\n        $(\"#maritalChartPopup\")\r\n          .find(\".overlay-cdk__content-title.preloader\")\r\n          .addClass(\"d-none\");\r\n\r\n        $(\"#maritalChartPopup\")\r\n          .find(\".overlay-cdk__content-title.result\")\r\n          .addClass(\"active\");\r\n\r\n        let $marital_resultTitle = $(\"#maritalChartPopup\").find(\r\n          \".overlay-cdk__content-title.result\",\r\n        );\r\n\r\n        $marital_resultTitle.addClass(\"active\");\r\n        $marital_resultTitle.find(\".percent\").html(maritalMaxPerc.toFixed(2));\r\n\r\n        if (maxMaritalName === \"Single\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"1\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Married\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"2\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Widowed\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"3\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Divorced\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"4\"]')\r\n            .addClass(\"active\");\r\n        } else if (maxMaritalName === \"Other\") {\r\n          $marital_resultTitle\r\n            .find('.value[data-value=\"5\"]')\r\n            .addClass(\"active\");\r\n        } else {\r\n          $marital_resultTitle.find(\".value-fallback\").addClass(\"active\");\r\n          $marital_resultTitle.find(\".value-fallback\").html(maxMaritalName);\r\n        }\r\n      },\r\n      error: function (data) {\r\n        // Basic error handling\r\n        console.error(data);\r\n      },\r\n    });\r\n\r\n    // Header menu dropdowns\r\n    let timeoutHandler = null;\r\n    $(\".main-header__nav-menu-link\").on(\"click\", function (e) {\r\n      if ($(this).hasClass(\"dropdown\")) {\r\n        e.preventDefault();\r\n        // Clear animations\r\n        if (timeoutHandler) {\r\n          clearTimeout(timeoutHandler);\r\n          timeoutHandler = null;\r\n          clearHeaderAnimation();\r\n        }\r\n\r\n        let parent = $(this).closest(\".main-header__nav-menu-item\");\r\n        if (!parent.hasClass(\"active\")) {\r\n          // Change btn class\r\n          $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n          $(\".main-header__control-btn\").removeClass(\"active\");\r\n          parent.addClass(\"active\");\r\n          // Toggle panel\r\n          openHeaderDropdown();\r\n          toggleHeaderPanel($(this).data(\"panel\"));\r\n        } else {\r\n          $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n          closeHeaderDropdown();\r\n        }\r\n      }\r\n    });\r\n    $(\".main-header__search-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      // Clear animations\r\n      if (timeoutHandler) {\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n        clearHeaderAnimation();\r\n      }\r\n\r\n      if (!$(this).hasClass(\"active\")) {\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        // Toggle panel\r\n        openHeaderDropdown();\r\n        toggleHeaderPanel($(this).data(\"panel\"));\r\n      } else {\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      }\r\n    });\r\n    $(\".main-header__languages-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      // Clear animations\r\n      if (timeoutHandler) {\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n        clearHeaderAnimation();\r\n      }\r\n\r\n      if (!$(this).hasClass(\"active\")) {\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n        // Toggle panel\r\n        openHeaderDropdown();\r\n        toggleHeaderPanel($(this).data(\"panel\"));\r\n      } else {\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      }\r\n    });\r\n\r\n    function toggleHeaderPanel(number) {\r\n      $(\".panel-content\").addClass(\"d-none\");\r\n      $(`.panel-content[data-panel=\"${number}\"]`).removeClass(\"d-none\");\r\n    }\r\n\r\n    function clearHeaderAnimation() {\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transition: \"\",\r\n        transform: \"\",\r\n        opacity: \"\",\r\n      });\r\n      $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n    }\r\n\r\n    // Close overlay\r\n    $(\".main-header__overlay-backdrop, .panel-content__btn-close\").on(\r\n      \"click\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        $(\".main-header__nav-menu-item\").removeClass(\"active\");\r\n        $(\".main-header__control-btn\").removeClass(\"active\");\r\n        closeHeaderDropdown();\r\n      },\r\n    );\r\n\r\n    function openHeaderDropdown() {\r\n      // Set position\r\n      if ($(\".main-header\").hasClass(\"sticky\")) {\r\n        $(\".main-header__overlay-panel\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px - ${$(\r\n            \".main-header__nav-wrap\",\r\n          ).innerHeight()}px)`,\r\n        );\r\n        $(\".main-header__overlay-backdrop\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px - ${$(\r\n            \".main-header__nav-wrap\",\r\n          ).innerHeight()}px)`,\r\n        );\r\n      } else {\r\n        $(\".main-header__overlay-panel\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px)`,\r\n        );\r\n        $(\".main-header__overlay-backdrop\").css(\r\n          \"top\",\r\n          `calc(100% + ${$(document).scrollTop()}px)`,\r\n        );\r\n      }\r\n\r\n      // Reset\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transition: \"\",\r\n        transform: \"\",\r\n        opacity: \"\",\r\n      });\r\n      $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n\r\n      // Show overlay\r\n      $(\"body\").addClass(\"overflow-hidden body-freeze\");\r\n\r\n      // Show backdrop\r\n      $(\".main-header__overlay-backdrop\").addClass(\"active\");\r\n\r\n      // Prepare panel for animation\r\n      $(\".main-header__overlay-panel-content\").css(\r\n        \"transform\",\r\n        \"translateY(-100%)\",\r\n      );\r\n      // Show panel\r\n      $(\".main-header__overlay-panel\").addClass(\"active\");\r\n      setTimeout(() => {\r\n        // Animate panel\r\n        $(\".main-header__overlay-panel-content\").css({\r\n          transition: \"all 700ms\",\r\n          transform: \"translateY(0%)\",\r\n        });\r\n      }, 0);\r\n    }\r\n    function closeHeaderDropdown() {\r\n      // Hide overlay\r\n      // Prevent body interaction if other overlay is open\r\n      if (!$(\".mobile-menu-overlay\").hasClass(\"active\")) {\r\n        $(\"body\").removeClass(\"overflow-hidden body-freeze\");\r\n      } else {\r\n        $(\"body\").removeClass(\"body-freeze\");\r\n      }\r\n      $(\".main-header__overlay-backdrop\").removeClass(\"active\");\r\n\r\n      $(\".main-header__overlay-panel-content\").css({\r\n        transform: \"translateY(-100%)\",\r\n        opacity: 0,\r\n      });\r\n      timeoutHandler = setTimeout(() => {\r\n        $(\".main-header__overlay-panel-content\").css({\r\n          transition: \"\",\r\n          transform: \"\",\r\n          opacity: \"\",\r\n        });\r\n        $(\".main-header__overlay-panel\").removeClass(\"active\");\r\n\r\n        clearTimeout(timeoutHandler);\r\n        timeoutHandler = null;\r\n      }, 700);\r\n    }\r\n\r\n    // Sticky header\r\n    stickyHeader();\r\n    $(document).on(\"scroll\", function () {\r\n      stickyHeader();\r\n    });\r\n    function stickyHeader() {\r\n      if ($(\".main-header\").length) {\r\n        // let sticky = $(\".main-header\").height();\r\n        let sticky = 0;\r\n\r\n        if (window.pageYOffset > sticky) {\r\n          $(\".main-header\").addClass(\"sticky\");\r\n        } else {\r\n          $(\".main-header\").removeClass(\"sticky\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // Search form\r\n    $(\"#searchFormInput\").on(\"input\", function (e) {\r\n      console.log(1);\r\n      if ($(this).val() !== \"\") {\r\n        $(\"#searchForm\").addClass(\"active\");\r\n      } else {\r\n        $(\"#searchForm\").removeClass(\"active\");\r\n      }\r\n    });\r\n    $(\"#searchFormClear\").on(\"click\", function (e) {\r\n      $(\"#searchFormInput\").val(\"\");\r\n      $(\"#searchForm\").removeClass(\"active\");\r\n    });\r\n    $(\"#searchFormSubmit\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    // Mobile header menu\r\n    $(\".main-header__mobile-burger\").on(\"click\", function (e) {\r\n      $(this).toggleClass(\"active\");\r\n\r\n      $(\"body\").toggleClass(\"overflow-hidden\");\r\n      $(\"#mobileMenu\").slideToggle().toggleClass(\"active\");\r\n      $(\".mobile-menu-overlay-backdrop\").toggleClass(\"active\");\r\n\r\n      if (!$(\"#mobileMenu\").hasClass(\"active\")) {\r\n        $(\".mobile-menu-overlay__menu a\").removeClass(\"open\");\r\n        $(\".mobile-menu-overlay__menu a\")\r\n          .parent()\r\n          .find(\".mobile-menu-overlay__menu-panel\")\r\n          .slideUp();\r\n      }\r\n    });\r\n    $(\".mobile-menu-overlay-backdrop\").on(\"click\", function () {\r\n      $(\".main-header__mobile-burger\").toggleClass(\"active\");\r\n\r\n      $(\"body\").toggleClass(\"overflow-hidden\");\r\n      $(\"#mobileMenu\").slideToggle().toggleClass(\"active\");\r\n      $(\".mobile-menu-overlay-backdrop\").toggleClass(\"active\");\r\n\r\n      if (!$(\"#mobileMenu\").hasClass(\"active\")) {\r\n        $(\".mobile-menu-overlay__menu a\").removeClass(\"open\");\r\n        $(\".mobile-menu-overlay__menu a\")\r\n          .parent()\r\n          .find(\".mobile-menu-overlay__menu-panel\")\r\n          .slideUp();\r\n      }\r\n    });\r\n\r\n    // Mobile header accordion\r\n    $(\".mobile-menu-overlay__menu a\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      $(this).toggleClass(\"open\");\r\n      $(this).parent().find(\".mobile-menu-overlay__menu-panel\").slideToggle();\r\n    });\r\n\r\n    // Mobile language switcher\r\n    $(\"#mobileLanguageSelect\").on(\"change\", function () {\r\n      let val = $(this).find(\"option:selected\").val();\r\n\r\n      window.location = val;\r\n    });\r\n\r\n    // Mobile header inner menu\r\n    $(\".mobile-menu-overlay__inner-menu-btn\").on(\"click\", function () {\r\n      let parent = $(this).closest(\".mobile-menu-overlay__inner-menu-wrap\");\r\n\r\n      parent.find(\".mobile-menu-overlay__inner-menu\").addClass(\"active\");\r\n    });\r\n    $(\".mobile-menu-overlay__inner-menu .parent-link\").on(\r\n      \"click\",\r\n      function (e) {\r\n        e.preventDefault();\r\n\r\n        $(this)\r\n          .closest(\".mobile-menu-overlay__inner-menu\")\r\n          .removeClass(\"active\");\r\n      },\r\n    );\r\n\r\n    // Stepper\r\n    let stepperStep = 1;\r\n    $(\"#startBtn\").on(\"click touchstart\", function () {\r\n      let privacy_agreed = $(\"#form_privacy_agreed\").is(\":checked\");\r\n      let personal_data_agreed = $(\"#form_personal_agreed\").is(\":checked\");\r\n\r\n      if (!privacy_agreed) {\r\n        $(\"#form_privacy_agreed\").parent().addClass(\"input-error\");\r\n      }\r\n      if (!personal_data_agreed) {\r\n        $(\"#form_personal_agreed\").parent().addClass(\"input-error\");\r\n      }\r\n\r\n      if (!privacy_agreed || !personal_data_agreed) {\r\n        return;\r\n      }\r\n\r\n      $(\"#startScreen\").addClass(\"d-none\");\r\n      $(\"#stepperScreen\").removeClass(\"d-none\");\r\n      openStep1();\r\n    });\r\n\r\n    $(\".custom-checkbox-container\").on(\"click\", function () {\r\n      $(this).removeClass(\"input-error\");\r\n    });\r\n\r\n    function openStep1() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"1\"]').removeClass(\"d-none\");\r\n      // Hide back btn\r\n      $(\"#backBtn\").addClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-1\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep2() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"2\"]').removeClass(\"d-none\");\r\n      // Show btns\r\n      $(\"#backBtn\").removeClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-2\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep3() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"completed\");\r\n      $stepBullets.eq(3).addClass(\"active\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"3\"]').removeClass(\"d-none\");\r\n      // Show btns\r\n      $(\"#backBtn\").removeClass(\"d-none\");\r\n      $(\"#nextBtn\").removeClass(\"d-none\");\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-3\").removeClass(\"d-none\");\r\n\r\n      // Rerender range\r\n      $(\".custom-range-input\").slider(\"refresh\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    function openStep4() {\r\n      // Change bullet\r\n      let $stepBullets = $(\".stepper__bullets-item\");\r\n      $stepBullets.removeClass(\"active completed\");\r\n      $stepBullets.eq(0).addClass(\"completed\");\r\n      $stepBullets.eq(1).addClass(\"completed\");\r\n      $stepBullets.eq(2).addClass(\"completed\");\r\n      $stepBullets.eq(3).addClass(\"completed\");\r\n      // Change title\r\n      $(\".stepper__title\").addClass(\"d-none\");\r\n      $('.stepper__title[data-step=\"4\"]').removeClass(\"d-none\");\r\n      // Hide btns\r\n      $(\"#backBtn\").addClass(\"d-none\");\r\n      $(\"#nextBtn\").addClass(\"d-none\");\r\n      // Show second screen\r\n      $(\".stepper__step\").addClass(\"d-none\");\r\n      $(\".stepper__step-4\").removeClass(\"d-none\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n    }\r\n\r\n    $(\"#backBtn\").on(\"click touchstart\", function () {\r\n      if (stepperStep === 2) {\r\n        openStep1();\r\n        stepperStep = 1;\r\n      } else if (stepperStep === 3) {\r\n        openStep2();\r\n        stepperStep = 2;\r\n      } else if (stepperStep === 4) {\r\n        openStep3();\r\n        stepperStep = 3;\r\n      }\r\n    });\r\n    $(\"#nextBtn\").on(\"click touchstart\", function () {\r\n      if (stepperStep === 1) {\r\n        let validate = validate1();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n        openStep2();\r\n        stepperStep++;\r\n      } else if (stepperStep === 2) {\r\n        let validate = validate2();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n        openStep3();\r\n        stepperStep++;\r\n      } else if (stepperStep === 3) {\r\n        let validate = validate3();\r\n        if (!validate) {\r\n          return;\r\n        }\r\n\r\n        // Open step after ajax request\r\n        calculate();\r\n      }\r\n    });\r\n\r\n    $(\"#recalculateBtn\").on(\"click touchstart\", function () {\r\n      // Change tab\r\n      openStep1();\r\n      stepperStep = 1;\r\n    });\r\n    $(\"#downloadBtn\").on(\"click touchstart\", function () {\r\n      // Change tab\r\n      $(\"#stepperScreen\").addClass(\"d-none\");\r\n      $(\"#resultScreen\").removeClass(\"d-none\");\r\n      $(\"body\").removeClass(\"shrinked\");\r\n\r\n      // Scroll page\r\n      $(window).scrollTop(0);\r\n\r\n      let id = $(\"#uniqueId\").val();\r\n      let url = $(this).data(\"url\");\r\n      let lang = $(this).data(\"lang\");\r\n\r\n      let req_url = `${url}?uid=${id}&lang=${lang}`;\r\n      window.location = req_url;\r\n\r\n      // $.ajax({\r\n      //   url: \"http://prud.local/api/download-pdf.php\",\r\n      //   type: \"POST\",\r\n      //   dataType: \"json\",\r\n      //   data: {\r\n      //     download_pdf: true,\r\n      //   },\r\n      //   success: function (data) {\r\n      //     console.log(\"file: main.js - line 672 - data\", data);\r\n      //     if (!data.success) {\r\n      //       // Basic error handling\r\n      //       console.error(data);\r\n      //     }\r\n      //   },\r\n      //   error: function (data) {\r\n      //     // Basic error handling\r\n      //     console.error(data);\r\n      //   },\r\n      // });\r\n\r\n      // jsPDF\r\n      if (!isMobilePlatform) {\r\n        // let doc = new jsPDF({\r\n        //   orientation: \"l\",\r\n        //   unit: \"pt\",\r\n        //   format: \"a4\",\r\n        // });\r\n        // let content = $(\"#resultScreen\")[0];\r\n        // doc.html(content, {\r\n        //   callback: function (doc) {\r\n        //     doc.save(\"Calculator result.pdf\");\r\n        //     $(\"#resultScreen\").removeClass(\"printing\");\r\n        //     $(\"body\").addClass(\"shrinked\");\r\n        //   },\r\n        //   x: 40,\r\n        //   y: 60,\r\n        // });\r\n        $(\"#resultScreen\").removeClass(\"printing\");\r\n      } else {\r\n        $(\"#resultScreen\").removeClass(\"printing\");\r\n      }\r\n    });\r\n    $(\"#backDownloadBtn\").on(\"click touchstart\", function () {\r\n      $(\"#stepperScreen\").removeClass(\"d-none\");\r\n      $(\"#resultScreen\").addClass(\"d-none\");\r\n    });\r\n\r\n    // Validation\r\n    // Tab 1\r\n    function validate1() {\r\n      let f_name = $(\".calculator-form\").find(\"#f_name\").val();\r\n      let f_gender = $(\".calculator-form\")\r\n        .find('input[name=\"gender\"]:checked')\r\n        .val();\r\n      let f_age = $(\".calculator-form\").find(\"#f_age\").val();\r\n      let f_phone = $(\".calculator-form\").find(\"#f_phone\").val();\r\n      let f_residence = $(\".calculator-form\").find(\"#f_residence\").val();\r\n      let f_marital_status = $(\".calculator-form\")\r\n        .find('input[name=\"marital_status\"]:checked')\r\n        .val();\r\n      let f_children = $(\".calculator-form\").find(\"#f_children\").val();\r\n      let f_dependent = $(\".calculator-form\").find(\"#f_dependent\").val();\r\n      let f_life_insuranced = $(\".calculator-form\")\r\n        .find('input[name=\"life_insuranced\"]:checked')\r\n        .val();\r\n\r\n      let validated = [];\r\n\r\n      if (f_name === \"\" || typeof f_name === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_name\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_gender === \"\" || typeof f_gender === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"gender\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_age === \"\" || typeof f_age === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_age\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_phone === \"\" || typeof f_phone === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_phone\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_residence === \"\" || typeof f_residence === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_residence\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_marital_status === \"\" || typeof f_marital_status === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"marital_status\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_children === \"\" || typeof f_children === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_children\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (f_dependent === \"\" || typeof f_dependent === \"undefined\") {\r\n        $(\".calculator-form\")\r\n          .find(\"#f_dependent\")\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n      if (\r\n        f_life_insuranced === \"\" ||\r\n        typeof f_life_insuranced === \"undefined\"\r\n      ) {\r\n        $(\".calculator-form\")\r\n          .find('input[name=\"life_insuranced\"]')\r\n          .closest(\".field-wrapper\")\r\n          .find(\".field-label-wrap\")\r\n          .addClass(\"input-error\");\r\n      } else {\r\n        validated.push(\"ok\");\r\n      }\r\n\r\n      if (validated.length < 9) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n    function validate2() {\r\n      // let f_salary = $(\".calculator-form\").find(\"#f_salary\").val();\r\n      // let f_other_income = $(\".calculator-form\").find(\"#f_other_income\").val();\r\n      // let f_savings = $(\".calculator-form\").find(\"#f_savings\").val();\r\n      // let f_insurance_covers = $(\".calculator-form\")\r\n      //   .find(\"#f_insurance_covers\")\r\n      //   .val();\r\n\r\n      // let validated = [];\r\n\r\n      // if (f_salary === \"\" || typeof f_salary === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_salary\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (f_other_income === \"\" || typeof f_other_income === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_other_income\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (f_savings === \"\" || typeof f_savings === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_savings\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (\r\n      //   f_insurance_covers === \"\" ||\r\n      //   typeof f_insurance_covers === \"undefined\"\r\n      // ) {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_insurance_covers\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (validated.length < 4) {\r\n      //   return false;\r\n      // }\r\n\r\n      return true;\r\n    }\r\n    function validate3() {\r\n      // let f_expenses = $(\".calculator-form\").find(\"#f_expenses\").val();\r\n      // let f_loans = $(\".calculator-form\").find(\"#f_loans\").val();\r\n      // let f_insurance_cost = $(\".calculator-form\")\r\n      //   .find(\"#f_insurance_cost\")\r\n      //   .val();\r\n\r\n      // let f_spouse_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_spouse_monthly_payment\")\r\n      //   .val();\r\n      // let f_spouse_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_spouse_payment_years\")\r\n      //   .val();\r\n\r\n      // let f_child_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_child_monthly_payment\")\r\n      //   .val();\r\n      // let f_child_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_child_payment_years\")\r\n      //   .val();\r\n\r\n      // let f_dependents_monthly_payment = $(\".calculator-form\")\r\n      //   .find(\"#f_dependents_monthly_payment\")\r\n      //   .val();\r\n      // let f_dependents_payment_years = $(\".calculator-form\")\r\n      //   .find(\"#f_dependents_payment_years\")\r\n      //   .val();\r\n\r\n      // let validated = [];\r\n\r\n      // if (f_expenses === \"\" || typeof f_expenses === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_expenses\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n      // if (f_loans === \"\" || typeof f_loans === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_loans\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n      // if (f_insurance_cost === \"\" || typeof f_insurance_cost === \"undefined\") {\r\n      //   $(\".calculator-form\")\r\n      //     .find(\"#f_insurance_cost\")\r\n      //     .closest(\".field-wrapper\")\r\n      //     .find(\".field-label-wrap\")\r\n      //     .addClass(\"input-error\");\r\n      // } else {\r\n      //   validated.push(\"ok\");\r\n      // }\r\n\r\n      // if (validated.length < 3) {\r\n      //   return false;\r\n      // }\r\n\r\n      return true;\r\n    }\r\n\r\n    // Clear validation\r\n    $(\".field-wrapper\").on(\"click touchstart\", function () {\r\n      $(this).find(\".field-label-wrap\").removeClass(\"input-error\");\r\n      $(this).find(\".column-structure__desc\").removeClass(\"input-error\");\r\n    });\r\n\r\n    // Calculate\r\n\r\n    function calculate() {\r\n      $(\"#preloaderOverlay\").addClass(\"active\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n\r\n      let f_name = $(\".calculator-form\").find(\"#f_name\").val();\r\n      let f_gender = $(\".calculator-form\")\r\n        .find('input[name=\"gender\"]:checked')\r\n        .val();\r\n      let f_age = $(\".calculator-form\").find(\"#f_age\").val();\r\n      let f_phone = $(\".calculator-form\").find(\"#f_phone\").val();\r\n      let f_residence = $(\".calculator-form\").find(\"#f_residence\").val();\r\n      let f_marital_status = $(\".calculator-form\")\r\n        .find('input[name=\"marital_status\"]:checked')\r\n        .val();\r\n      let f_children = $(\".calculator-form\").find(\"#f_children\").val();\r\n      let f_dependent = $(\".calculator-form\").find(\"#f_dependent\").val();\r\n      let f_life_insuranced = $(\".calculator-form\")\r\n        .find('input[name=\"life_insuranced\"]:checked')\r\n        .val();\r\n\r\n      let f_salary = $(\".calculator-form\").find(\"#f_salary\").val();\r\n      let AN_salary = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_salary\")[0],\r\n      );\r\n      let salary_val = AN_salary.getNumber();\r\n\r\n      let f_other_income = $(\".calculator-form\").find(\"#f_other_income\").val();\r\n      let AN_other_income = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_other_income\")[0],\r\n      );\r\n      let other_income_val = AN_other_income.getNumber();\r\n\r\n      let f_savings = $(\".calculator-form\").find(\"#f_savings\").val();\r\n      let AN_savings = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_savings\")[0],\r\n      );\r\n      let savings_val = AN_savings.getNumber();\r\n\r\n      let f_insurance_covers = $(\".calculator-form\")\r\n        .find(\"#f_insurance_covers\")\r\n        .val();\r\n      let AN_insurance_covers = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_insurance_covers\")[0],\r\n      );\r\n      let insurance_covers_val = AN_insurance_covers.getNumber();\r\n\r\n      let f_expenses = $(\".calculator-form\").find(\"#f_expenses\").val();\r\n      let AN_expenses = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_expenses\")[0],\r\n      );\r\n      let expenses_val = AN_expenses.getNumber();\r\n\r\n      let f_loans = $(\".calculator-form\").find(\"#f_loans\").val();\r\n      let AN_loans = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_loans\")[0],\r\n      );\r\n      let loans_val = AN_loans.getNumber();\r\n\r\n      let f_insurance_cost = $(\".calculator-form\")\r\n        .find(\"#f_insurance_cost\")\r\n        .val();\r\n      let AN_insurance_cost = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_insurance_cost\")[0],\r\n      );\r\n      let insurance_cost_val = AN_insurance_cost.getNumber();\r\n\r\n      let f_spouse_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_spouse_monthly_payment\")\r\n        .val();\r\n      let AN_spouse_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_spouse_monthly_payment\")[0],\r\n      );\r\n      let spouse_monthly_payment_val = AN_spouse_monthly_payment.getNumber();\r\n\r\n      let f_spouse_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_spouse_payment_years\")\r\n        .val();\r\n      let f_spouse_yearly_payment = spouse_monthly_payment_val * 12;\r\n\r\n      let f_child_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_child_monthly_payment\")\r\n        .val();\r\n      let AN_child_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_child_monthly_payment\")[0],\r\n      );\r\n      let child_monthly_payment_val = AN_child_monthly_payment.getNumber();\r\n\r\n      let f_child_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_child_payment_years\")\r\n        .val();\r\n      let f_child_yearly_payment = child_monthly_payment_val * 12;\r\n\r\n      let f_dependents_monthly_payment = $(\".calculator-form\")\r\n        .find(\"#f_dependents_monthly_payment\")\r\n        .val();\r\n      let AN_dependents_monthly_payment = AutoNumeric.getAutoNumericElement(\r\n        $(\".calculator-form\").find(\"#f_dependents_monthly_payment\")[0],\r\n      );\r\n      let dependents_monthly_payment_val =\r\n        AN_dependents_monthly_payment.getNumber();\r\n\r\n      let f_dependents_payment_years = $(\".calculator-form\")\r\n        .find(\"#f_dependents_payment_years\")\r\n        .val();\r\n      let f_dependents_yearly_payment = dependents_monthly_payment_val * 12;\r\n\r\n      let result = null;\r\n      if (\r\n        savings_val + insurance_covers_val + other_income_val + salary_val >=\r\n        f_spouse_yearly_payment * f_spouse_payment_years +\r\n          f_child_yearly_payment * f_child_payment_years +\r\n          f_dependents_yearly_payment * f_dependents_payment_years +\r\n          expenses_val +\r\n          loans_val\r\n      ) {\r\n        result = 0;\r\n      } else {\r\n        result = -(\r\n          savings_val +\r\n          insurance_covers_val +\r\n          other_income_val +\r\n          salary_val -\r\n          (f_spouse_yearly_payment * f_spouse_payment_years +\r\n            f_child_yearly_payment * f_child_payment_years +\r\n            f_dependents_yearly_payment * f_dependents_payment_years +\r\n            expenses_val +\r\n            loans_val)\r\n        );\r\n      }\r\n\r\n      if (isNaN(result)) {\r\n        alert(\"Something went wrong\");\r\n        return;\r\n      }\r\n\r\n      // Fill finish screen\r\n      $(\".finish-screen__total\").html(`${numberWithCommas(result)} LAK`);\r\n      // Fill result screen\r\n      $(\"#result_name\").html(f_name);\r\n      $(\"#result_age\").html(f_age);\r\n\r\n      // $(\"#result_marital\").html(f_marital_status);\r\n      if (f_marital_status === \"Single\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"1\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Married\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"2\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Widowed\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"3\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Divorced\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"4\"]').addClass(\"active\");\r\n      } else if (f_marital_status === \"Other\") {\r\n        $(\"#result_marital\").find('.value[data-value=\"5\"]').addClass(\"active\");\r\n      } else {\r\n        $(\"#result_marital\").find(\".value-fallback\").addClass(\"active\");\r\n        $(\"#result_marital\").find(\".value-fallback\").html(f_marital_status);\r\n      }\r\n\r\n      // $(\"#result_residence\").html(f_residence);\r\n      if (f_residence === \"Vientiane Capital\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"1\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Vientiane\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"2\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Savannakhet\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"3\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Champasack\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"4\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Luangprabang\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"5\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Khammuane\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"6\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Bokeo\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"7\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Borikhamxay\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"8\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Huaphanh\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"9\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Luangnamtha\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"10\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Oudomxay\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"11\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Phongsaly\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"12\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Saravanh\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"13\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xayabury\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"14\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xaysomboon\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"15\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Xiengkhuang\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"16\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Sekong\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"17\"]')\r\n          .addClass(\"active\");\r\n      } else if (f_residence === \"Attapeu\") {\r\n        $(\"#result_residence\")\r\n          .find('.value[data-value=\"18\"]')\r\n          .addClass(\"active\");\r\n      } else {\r\n        $(\"#result_residence\").find(\".value-fallback\").addClass(\"active\");\r\n        $(\"#result_residence\").find(\".value-fallback\").html(f_residence);\r\n      }\r\n\r\n      $(\"#result_child\").html(f_children);\r\n      $(\"#result_dependents\").html(f_dependent);\r\n      $(\"#result_salary\").html(f_salary);\r\n      $(\"#result_savings\").html(f_savings);\r\n      $(\"#result_loans\").html(f_loans);\r\n      $(\"#result_length\").html(`${length} Year(s)`);\r\n      $(\"#result_total\").html(`${numberWithCommas(result)} LAK`);\r\n\r\n      // Submit\r\n      const url = $(\"#calculatorForm\").attr(\"action\");\r\n      const method = $(\"#calculatorForm\").attr(\"method\");\r\n      const dataType = $(\"#calculatorForm\").data(\"type\") || null;\r\n      const self = $(this);\r\n\r\n      let requestObj = {\r\n        name: f_name,\r\n        gender: f_gender,\r\n        age: f_age,\r\n        phone: f_phone,\r\n        residence: f_residence,\r\n        marital_status: f_marital_status,\r\n        children: f_children,\r\n        dependents: f_dependent,\r\n        life_insuranced: f_life_insuranced,\r\n        salary: f_salary,\r\n        other_income: f_other_income,\r\n        savings: f_savings,\r\n        insurance_covers: f_insurance_covers,\r\n        expenses: f_expenses,\r\n        loans: f_loans,\r\n        insurance_cost: f_insurance_cost, // changed to premium cost\r\n        spouse_monthly_payment: f_spouse_monthly_payment,\r\n        spouse_payment_years: f_spouse_payment_years,\r\n        child_monthly_payment: f_child_monthly_payment,\r\n        child_payment_years: f_child_payment_years,\r\n        dependents_monthly_payment: f_dependents_monthly_payment,\r\n        dependents_payment_years: f_dependents_payment_years,\r\n        total: `${numberWithCommas(result)} LAK`,\r\n      };\r\n\r\n      $.ajax({\r\n        url,\r\n        type: method,\r\n        dataType: \"json\",\r\n        data: {\r\n          calculator_sent: true,\r\n          ...requestObj,\r\n        },\r\n        success: function (data) {\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n          if (!data.success) {\r\n            // Basic error handling\r\n            alert(\"Something went wrong, please try again later.\");\r\n            console.error(data);\r\n          }\r\n\r\n          openStep4();\r\n          stepperStep++;\r\n\r\n          let requestId = data.request_id;\r\n          $(\"#requestId\").val(requestId);\r\n\r\n          let uniqueId = data.unique_id;\r\n          $(\"#uniqueId\").val(uniqueId);\r\n        },\r\n        error: function (data) {\r\n          // Basic error handling\r\n          alert(\"Something went wrong, please try again later.\");\r\n          console.error(data);\r\n\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n        },\r\n      });\r\n    }\r\n\r\n    // Get in touch\r\n    $(\"#getInTouchBtn\").on(\"click touchstart\", function () {\r\n      // Open preloader\r\n      $(\"#preloaderOverlay\").addClass(\"active\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n\r\n      // Submit\r\n      const url = $(this).data(\"url\");\r\n      const self = $(this);\r\n\r\n      const requestId = $(\"#requestId\").val();\r\n\r\n      let requestObj = {\r\n        request_id: requestId,\r\n      };\r\n\r\n      $.ajax({\r\n        url,\r\n        type: \"POST\",\r\n        dataType: \"json\",\r\n        data: {\r\n          getInTouch_sent: true,\r\n          ...requestObj,\r\n        },\r\n        success: function (data) {\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n          if (!data.success) {\r\n            // Basic error handling\r\n            alert(\"Something went wrong, please try again later.\");\r\n            console.error(data);\r\n          }\r\n          // Open success overlay\r\n          $(\"body\").addClass(\"overflow-hidden\");\r\n          $(\"#getInTouchPopup\").addClass(\"active\");\r\n          // Hide btn\r\n          $(\"#getInTouchBtn\").addClass(\"d-none\");\r\n        },\r\n        error: function (data) {\r\n          // Basic error handling\r\n          alert(\"Something went wrong, please try again later.\");\r\n          console.error(data);\r\n\r\n          // Close preloader\r\n          $(\"#preloaderOverlay\").removeClass(\"active\");\r\n          $(\"body\").removeClass(\"overflow-hidden\");\r\n        },\r\n      });\r\n    });\r\n\r\n    // Popups\r\n    $(\"#viewGenderChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#genderChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewAgeChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#ageChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewResidenceChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#residenceChartPopup\").fadeIn(300);\r\n    });\r\n    $(\"#viewMaritalChartBtn\").on(\"click touchstart\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#maritalChartPopup\").fadeIn(300);\r\n    });\r\n\r\n    $(\".overlay-cdk\").on(\"click touchstart\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n\r\n      closePopup();\r\n    });\r\n    $(\".overlay-cdk__close-btn\").on(\"click touchstart\", function () {\r\n      closePopup();\r\n    });\r\n    function closePopup() {\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n      $(\".overlay-cdk\").fadeOut(300);\r\n      $(\".youtube-video-place\").html(\"\");\r\n    }\r\n\r\n    // Field Number Control\r\n    $(\".field-number-minus\").on(\"click touchstart\", function () {\r\n      let $parent = $(this).closest(\".field-number-wrap\");\r\n      let $input = $parent.find(\".field-number\");\r\n      let min = $input.attr(\"min\");\r\n      let max = $input.attr(\"max\");\r\n      let value = Number($input.val());\r\n\r\n      if (min && value <= Number(min)) {\r\n        return;\r\n      }\r\n      value = value - 1;\r\n      $input.val(value);\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n    $(\".field-number-plus\").on(\"click touchstart\", function () {\r\n      let $parent = $(this).closest(\".field-number-wrap\");\r\n      let $input = $parent.find(\".field-number\");\r\n      let min = $input.attr(\"min\");\r\n      let max = $input.attr(\"max\");\r\n      let value = Number($input.val());\r\n\r\n      if (max && value >= Number(max)) {\r\n        return;\r\n      }\r\n      value = value + 1;\r\n      $input.val(value);\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n    $(\".field-number\").on(\"input\", function (e) {\r\n      let min = $(this).attr(\"min\");\r\n      let max = $(this).attr(\"max\");\r\n      let value = Number($(this).val());\r\n\r\n      if (min && value < Number(min)) {\r\n        value = Number(min);\r\n      } else if (max && value > Number(max)) {\r\n        value = Number(max);\r\n      }\r\n      if (value === 0) {\r\n        $(this).val(0);\r\n      } else {\r\n        $(this).val(value);\r\n      }\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n\r\n      // Connect list if needed\r\n      let $numberListWrap = $(this).closest(\".field-number-and-list-wrap\");\r\n      if ($numberListWrap.length) {\r\n        let $list = $numberListWrap.find(\".icon-list\");\r\n        let icon = $list.data(\"icon\");\r\n        let itemsString = \"\";\r\n\r\n        for (let index = 0; index < value; index++) {\r\n          itemsString += `<li class=\"icon-list__item\"><i class=\"${icon}\"></i></li>`;\r\n        }\r\n\r\n        $list.html(itemsString);\r\n      }\r\n    });\r\n\r\n    $(\".field-currency\").on(\"input\", function (e) {\r\n      let value = null;\r\n\r\n      // Get pure value\r\n      let ANObj = AutoNumeric.getAutoNumericElement($(this)[0]);\r\n      if (ANObj) {\r\n        value = ANObj.getNumber();\r\n      } else {\r\n        value = Number($(this).val());\r\n      }\r\n\r\n      // Connect range if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-currency-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        // Native range\r\n        let $range = $numberRangeWrap.find(\".field-range\");\r\n        $range.val(value);\r\n\r\n        // Custsom plugin range\r\n        let $customRange = $numberRangeWrap.find(\".custom-range-input\");\r\n        $customRange.slider(\"setValue\", value);\r\n      }\r\n    });\r\n    $(\".field-currency\").on(\"change\", function (e) {\r\n      let value = null;\r\n\r\n      // Get pure value\r\n      let ANObj = AutoNumeric.getAutoNumericElement($(this)[0]);\r\n      if (ANObj) {\r\n        value = ANObj.getNumber();\r\n      } else {\r\n        value = Number($(this).val());\r\n      }\r\n\r\n      // Min value\r\n      let min = $(this).data(\"min\");\r\n      if (min && value < Number(min)) {\r\n        value = Number(min);\r\n      }\r\n      $(this).val(value);\r\n    });\r\n\r\n    // Native range\r\n    $(\".field-range\").on(\"input\", function (e) {\r\n      let value = Number($(this).val());\r\n\r\n      // Connect number if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        let $number = $numberRangeWrap.find(\".field-number\");\r\n        $number.val(value);\r\n      }\r\n\r\n      // Connect currency if needed\r\n      let $currencyRangeWrap = $(this).closest(\r\n        \".field-currency-and-range-wrap\",\r\n      );\r\n      if ($currencyRangeWrap.length) {\r\n        let $number = $currencyRangeWrap.find(\".field-currency\");\r\n        $number.val(value);\r\n      }\r\n    });\r\n    $(\".field-range\").on(\"change\", function (e) {\r\n      // let value = Number($(this).val());\r\n\r\n      // Focus number if needed\r\n      let $numberRangeWrap = $(this).closest(\".field-number-and-range-wrap\");\r\n      if ($numberRangeWrap.length) {\r\n        let $number = $numberRangeWrap.find(\".field-number\");\r\n        $number.get(0).focus();\r\n      }\r\n\r\n      // Focus currency if needed\r\n      let $currencyRangeWrap = $(this).closest(\r\n        \".field-currency-and-range-wrap\",\r\n      );\r\n      if ($currencyRangeWrap.length) {\r\n        let $number = $currencyRangeWrap.find(\".field-currency\");\r\n        $number.get(0).focus();\r\n      }\r\n    });\r\n\r\n    // Custom plugin range\r\n    $(\".custom-range-input\").each(function () {\r\n      $(this)\r\n        .slider()\r\n        .on(\"slide\", function () {\r\n          let value = Number($(this).slider(\"getValue\"));\r\n\r\n          // Connect number if needed\r\n          let $numberRangeWrap = $(this).closest(\r\n            \".field-number-and-range-wrap\",\r\n          );\r\n          if ($numberRangeWrap.length) {\r\n            let $number = $numberRangeWrap.find(\".field-number\");\r\n            $number.val(value);\r\n          }\r\n\r\n          // Connect currency if needed\r\n          let $currencyRangeWrap = $(this).closest(\r\n            \".field-currency-and-range-wrap\",\r\n          );\r\n          if ($currencyRangeWrap.length) {\r\n            let $number = $currencyRangeWrap.find(\".field-currency\");\r\n            $number.val(value);\r\n          }\r\n        });\r\n      $(this)\r\n        .slider()\r\n        .on(\"change\", function () {\r\n          let value = Number($(this).slider(\"getValue\"));\r\n\r\n          // Connect number if needed and update value\r\n          let $numberRangeWrap = $(this).closest(\r\n            \".field-number-and-range-wrap\",\r\n          );\r\n          if ($numberRangeWrap.length) {\r\n            let $number = $numberRangeWrap.find(\".field-number\");\r\n            $number.val(value);\r\n            $number.get(0).focus();\r\n          }\r\n\r\n          // Focus currency if needed and update value\r\n          let $currencyRangeWrap = $(this).closest(\r\n            \".field-currency-and-range-wrap\",\r\n          );\r\n          if ($currencyRangeWrap.length) {\r\n            let $number = $currencyRangeWrap.find(\".field-currency\");\r\n            $number.val(value);\r\n            $number.get(0).focus();\r\n          }\r\n        });\r\n    });\r\n\r\n    // Simple phone input mask\r\n    $(\".phone-input-mask\").on(\"keypress paste\", function (evt) {\r\n      // ^(\\([0-9]{3}\\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$\r\n      var theEvent = evt || window.event;\r\n\r\n      var key = null;\r\n      // Handle paste\r\n      if (theEvent.type === \"paste\") {\r\n        key = event.clipboardData.getData(\"text/plain\");\r\n      } else {\r\n        // Handle key press\r\n        key = theEvent.keyCode || theEvent.which;\r\n        key = String.fromCharCode(key);\r\n      }\r\n      var regex = /([0-9() +-])/;\r\n      if (!regex.test(key)) {\r\n        theEvent.returnValue = false;\r\n        if (theEvent.preventDefault) theEvent.preventDefault();\r\n      }\r\n    });\r\n\r\n    // Currency input mask\r\n    let currencyInputs = AutoNumeric.multiple(\".field-currency\", [\r\n      \"dotDecimalCharCommaSeparator\",\r\n      {\r\n        allowDecimalPadding: \"floats\",\r\n        currencySymbol: \" LAK\",\r\n        currencySymbolPlacement: \"s\",\r\n        watchExternalChanges: true,\r\n        selectOnFocus: false,\r\n        // maximumValue: 100000000,\r\n        // minimumValue: 50000,\r\n      },\r\n    ]);\r\n  });\r\n})(jQuery);\r\n\r\nfunction numberWithCommas(x) {\r\n  var parts = x.toString().split(\".\");\r\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return parts.join(\".\");\r\n}\r\n\r\nvar colorArray = [\r\n  // Project colors\r\n  \"#e21221\",\r\n  \"#e67220\",\r\n  \"#f9bc4a\",\r\n  \"#eb8b89\",\r\n  \"#91959d\",\r\n  \"#65afd4\",\r\n  \"#e7baaa;\",\r\n  \"#00a9c1\",\r\n  \"#004669\",\r\n  \"#c3c5c8\",\r\n  \"#5d7481\",\r\n  \"#0099d5\",\r\n  //Random colors filler (google mat)\r\n  \"#F44336\",\r\n  \"#FFEBEE\",\r\n  \"#FFCDD2\",\r\n  \"#EF9A9A\",\r\n  \"#E57373\",\r\n  \"#EF5350\",\r\n  \"#F44336\",\r\n  \"#E53935\",\r\n  \"#D32F2F\",\r\n  \"#C62828\",\r\n  \"#B71C1C\",\r\n  \"#FF8A80\",\r\n  \"#FF5252\",\r\n  \"#FF1744\",\r\n  \"#D50000\",\r\n  \"#E91E63\",\r\n  \"#FCE4EC\",\r\n  \"#F8BBD0\",\r\n  \"#F48FB1\",\r\n  \"#F06292\",\r\n  \"#EC407A\",\r\n  \"#E91E63\",\r\n  \"#D81B60\",\r\n  \"#C2185B\",\r\n  \"#AD1457\",\r\n  \"#880E4F\",\r\n  \"#FF80AB\",\r\n  \"#FF4081\",\r\n  \"#F50057\",\r\n  \"#C51162\",\r\n  \"#9C27B0\",\r\n  \"#F3E5F5\",\r\n  \"#E1BEE7\",\r\n  \"#CE93D8\",\r\n  \"#BA68C8\",\r\n  \"#AB47BC\",\r\n  \"#9C27B0\",\r\n  \"#8E24AA\",\r\n  \"#7B1FA2\",\r\n  \"#6A1B9A\",\r\n  \"#4A148C\",\r\n  \"#EA80FC\",\r\n  \"#E040FB\",\r\n  \"#D500F9\",\r\n  \"#AA00FF\",\r\n  \"#673AB7\",\r\n  \"#EDE7F6\",\r\n  \"#D1C4E9\",\r\n  \"#B39DDB\",\r\n  \"#9575CD\",\r\n  \"#7E57C2\",\r\n  \"#673AB7\",\r\n  \"#5E35B1\",\r\n  \"#512DA8\",\r\n  \"#4527A0\",\r\n  \"#311B92\",\r\n  \"#B388FF\",\r\n  \"#7C4DFF\",\r\n  \"#651FFF\",\r\n  \"#6200EA\",\r\n  \"#3F51B5\",\r\n  \"#E8EAF6\",\r\n  \"#C5CAE9\",\r\n  \"#9FA8DA\",\r\n  \"#7986CB\",\r\n  \"#5C6BC0\",\r\n  \"#3F51B5\",\r\n  \"#3949AB\",\r\n  \"#303F9F\",\r\n  \"#283593\",\r\n  \"#1A237E\",\r\n  \"#8C9EFF\",\r\n  \"#536DFE\",\r\n  \"#3D5AFE\",\r\n  \"#304FFE\",\r\n  \"#2196F3\",\r\n  \"#E3F2FD\",\r\n  \"#BBDEFB\",\r\n  \"#90CAF9\",\r\n  \"#64B5F6\",\r\n  \"#42A5F5\",\r\n];\r\n"]}